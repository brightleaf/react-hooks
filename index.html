<!DOCTYPE html>
<html lang="en">

<head>
  <title>@brightleaf/react-hooks - Useful react hooks - Brightleaf JS</title>
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <link rel="stylesheet" type="text/css" href="extend.css" />
  <meta name="description" content="Useful react hooks" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/github.min.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="@brightleaf/react-hooks - Useful react hooks - Brightleaf JS" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="@brightleaf/react-hooks - Useful react hooks - Brightleaf JS" />
  <meta property="og:url" content="https://brightleaf.dev/hooks" />
  <meta property="og:image" content="https://brightleaf.github.io/react-hooks/brightleaf-react-hooks.png" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@brightleaf_js" />
  <meta name="twitter:title" content="@brightleaf/react-hooks - Useful react hooks - Brightleaf JS" />
  <meta name="twitter:description" content="@brightleaf/react-hooks - Useful react hooks - Brightleaf JS" />
  <meta name="twitter:image" content="https://brightleaf.github.io/react-hooks/brightleaf-react-hooks.png" />

</head>

<body>
  <div class="container">
  <h1 id="brightleaf-react-hooks">Brightleaf React Hooks</h1>
<p>Useful React Hooks</p>
<ul>
<li><a href="#async-hook"><code>useAsync</code></a> - Hook to an async function</li>
<li><a href="#fetch-hook"><code>useFetch</code></a> - Hook to use Fetch</li>
<li><a href="#get-hook"><code>useGet</code></a> - Hook to make a get request</li>
<li><a href="#post-hook"><code>usePost</code></a> - Hook to make an HTTP Post</li>
<li><a href="#click-outside-hook"><code>useClickOutside</code></a> - Hook to handle a click outside an element</li>
<li><a href="#graphql-hook"><code>useGraphQL</code></a> - Hook to make a GraphQL request</li>
<li><a href="#keypress-hook"><code>useKeypress</code></a> - Hook to Keypress</li>
<li><a href="#key-pressed-hook"><code>useKeypressed</code></a> - Hook to fire a method when the keydown is triggered</li>
<li><a href="#/examples/nes"><code>useNes</code></a> - Hook to connect to Hapijs NES</li>
<li><a href="#/examples/ws"><code>useWebSockets</code></a> - Hook to interact with WebSockets</li>
<li><a href="#local-storage-hook"><code>useLocalStorage</code></a> - Hook to local storage</li>
<li><a href="#hover-hook"><code>useHover</code></a> - Hook for binding to hover of an element</li>
<li><a href="#event-hook"><code>useEventListener</code></a> - Hook for binding to an hander to DOM event</li>
<li><a href="#favicon-hook"><code>useFavicon</code></a> - Hook to set a favicon</li>
<li><a href="#title-hook"><code>useTitle</code></a> - Hook to manipulate the page title</li>
<li><a href="#script-hook"><code>useScript</code></a> - Hook to add JavaScript to the page</li>
<li><a href="#style-hook"><code>useStyles</code></a> - Hook to add CSS to the page</li>
<li><a href="#stylesheet-hook"><code>useStyleSheet</code></a> - Hook to add a css file to the page</li>
<li><a href="#pagevisibility-hook"><code>usePageVisibility</code></a> - Hook to use the page visibility api</li>
<li><a href="#onlinestatus-hook"><code>useOnlineStatus</code></a> - Hook to use the online status api</li>
<li><a href="#media-query-hook"><code>useMediaQuery</code></a> - Hook to return if the media query is matched</li>
</ul>
<p><a href="https://brightleaf.dev/hooks/examples/#/">Examples</a></p>
<h2 id="async-hook">Async Hook</h2>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useAsync } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> { loading, error, data, execute } = useAsync(asyncFunction)
  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    execute()
  }, [])
  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Executing Async Function<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Error executing async function<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></pre>
<h2 id="fetch-hook">Fetch Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useFetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [id, setId] = useState(<span class="hljs-number">1</span>)

  <span class="hljs-keyword">const</span> { data, error, loading } = useFetch(
    <span class="hljs-string">`https://swapiql.herokuapp.com/api/characters/<span class="hljs-subst">${id}</span>`</span>
  )
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Error Getting Data<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Loading Data<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{data[0].name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="graphql-hook">GraphQL Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useGraphQL } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [id, setId] = useState(<span class="hljs-number">1</span>)
  <span class="hljs-keyword">const</span> { data, loading, error } = useGraphQL(
    <span class="hljs-string">'https://swapiql.herokuapp.com/graphql'</span>,
    <span class="hljs-string">`query Person($id: ID) {
      person(id: $id) {
        id,
        name
      }
    }`</span>,
    { id }
  )
  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading Data<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Error getting graphql data<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data.person[0].name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></pre>
<h2 id="keypress-hook">Keypress Hook</h2>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useKeypress } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> aKeyDown = useKeypress(<span class="hljs-string">'a'</span>)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Key Press?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {aKeyDown &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          Yes, the <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{'"a"'}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> key is pressed
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
      {!keyDown &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>No the <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{'"a"'}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> key is not currently pressed<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="key-pressed-hook">Key Pressed Hook</h2>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useKeypressed } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {

  <span class="hljs-keyword">const</span> keyPressed = useKeypressed(<span class="hljs-string">'a'</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Key Press?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {keyPressed &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          Yes, the <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{'"a"'}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> key has been pressed
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
      {!keyPressed &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>No the <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{'"a"'}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span> key is not been pressed yet<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="post-hook">Post Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Button, Form, TextBox } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-form-elements'</span>
<span class="hljs-keyword">import</span> { usePost } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> { data, error, loading, postData } = usePost(
    <span class="hljs-string">`https://kev-pi.herokuapp.com/api/echo`</span>
  )

  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading Data<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Error getting graphql data<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Form</span>
      <span class="hljs-attr">name</span>=<span class="hljs-string">"testForm"</span>
      <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{data</span> =&gt;</span> {
        postData(data)
      }}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">TextBox</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"My Label"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"myTextBox"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Send<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Form</span>&gt;</span>
  )
}</span></code></pre>
<h2 id="get-hook">Get Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useGet } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [id, setId] = useState(<span class="hljs-number">1</span>)

  <span class="hljs-keyword">const</span> { data, error, loading, getUrl } = useGet(
    <span class="hljs-string">`https://swapiql.herokuapp.com/api/characters/<span class="hljs-subst">${id}</span>`</span>
  )
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Error Getting Data<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Loading Data<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{data[0].name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a number<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"select"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{e</span> =&gt;</span> {
            getUrl('https://swapiql.herokuapp.com/api/characters/2')
          }}
        &gt;
          2
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="click-outside-hook">Click Outside Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useState, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useClickOutside } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [menu, setMenu] = useState(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> navMenu= useRef()
  <span class="hljs-keyword">const</span> hideDropDown = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    setMenu(<span class="hljs-literal">false</span>)
  }
  useClickOutside(navMenu, hideDropDowns, menu)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{navMenu}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">dropdown</span> ${<span class="hljs-attr">menu</span> ? '<span class="hljs-attr">active</span>' <span class="hljs-attr">:</span> ' '}`}&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"dropdown-trigger"</span>
            <span class="hljs-attr">onClick</span>=<span class="hljs-string">{e</span> =&gt;</span> {
              setMenu(!menu)
            }}
          &gt;
            Menu
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            ...// items
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
      ... // rest of page
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="title-hook">Title Hook</h2>
<pre><code class="hljs jsx language-jsx"><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useTitle } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  useTitle(<span class="hljs-string">'Brightleaf JS Hooks'</span>)

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>The Page<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}</code></pre>
<h1 id="nes-hook">NES Hook</h1>
<p>Client hook for connecting to an <a href="https://github.com/hapijs/nes">NES</a> instance</p>
<h1 id="websocket-hook">WebSocket Hook</h1>
<p>#/examples/ws</p>
<h3 id="messages">Messages</h3>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useNes } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {

  <span class="hljs-keyword">const</span> { message, error, connecting, connected } = useNes(
    <span class="hljs-string">'wss://kev-pi.herokuapp.com'</span>
  )

  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Error<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  }
  <span class="hljs-keyword">const</span> connectMessage = connecting ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Connecting<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Not Connecting<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  <span class="hljs-keyword">const</span> connectedMessage = connected ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Connected<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Not Connected<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

  <span class="hljs-keyword">const</span> messages = message.map(<span class="hljs-function">(<span class="hljs-params">m, index</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">key-</span>${<span class="hljs-attr">index</span>}`}&gt;</span>{m}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Messages from Server<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{messages}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Status Messages<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
        {connectMessage}
        {connectedMessage}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h3 id="subscriptions">Subscriptions</h3>
<p>Use the client from the hook to create a real time chat room</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useState}  <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useNes } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> { client } = useNes(<span class="hljs-string">'wss://kev-pi.herokuapp.com'</span>)
  <span class="hljs-keyword">const</span> [messages, setMessages] = useState([{
    <span class="hljs-attr">body</span>: <span class="hljs-string">'welcome'</span>,
    <span class="hljs-attr">user</span>: <span class="hljs-string">'system'</span>
  }])
  <span class="hljs-keyword">const</span> addMessage = <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span>  {
    messages.push(msg)
    setMessages([...messages])
  }
  <span class="hljs-keyword">const</span> handler = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">update, flags</span>) </span>{
    addMessage(update)
  }
  <span class="hljs-comment">// subscribe to a channel</span>
  client.subscribe(<span class="hljs-string">'/rooms/general'</span>, handler);

  <span class="hljs-keyword">const</span> messageList = messages.map(<span class="hljs-function">(<span class="hljs-params">{user, body}, index</span>) =&gt;</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">key-</span>${<span class="hljs-attr">index</span>}`}&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{user}:<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>{body}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>))
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {messageList}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="local-storage-hook">Local Storage Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useLocalStorage } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = useLocalStorage(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You clicked {count} times<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
        Click me
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="hover-hook">Hover Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useHover } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> elRef = useRef(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> hovered = useHover(elRef);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span> <span class="hljs-attr">hovered</span> ? '<span class="hljs-attr">animated</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">static</span>' }&gt;</span>
        Hover Over Me
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="style-hook">Style Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
   useStyles(<span class="hljs-string">`
    html,
    body {
        font-family: 'Open Sans';
    }
    div {
        padding: 5px;
        border: 1px solid #ccc;
    }
  `</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        Something
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="stylesheet-hook">StyleSheet Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useStyleSheet } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  useStyleSheet(
    <span class="hljs-string">'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'</span>
  )
  useStyleSheet(<span class="hljs-string">'https://fonts.googleapis.com/css?family=Open+Sans'</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="script-hook">Script Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useScript } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  useScript(<span class="hljs-string">'/js/script.js'</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="pagevisibility-hook">PageVisibility Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { usePageVisibility } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> { visible, hidden } = usePageVisibility()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="favicon-hook">Favicon Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useFavicon } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {

  <span class="hljs-keyword">const</span> { favicon, setFavicon } = useFavicon(<span class="hljs-string">'brightleaf.png'</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{e</span> =&gt;</span> {
        e.preventDefault()
        setFavicon('brightleaf-1.png')
      }}&gt;Change Favicon<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre>
<h2 id="onlinestatus-hook">OnlineStatus Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useOnlineStatus } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> { offline, online } = useOnlineStatus()
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>
        {offline &amp;&amp; 'Connection is offline'}
        {online &amp;&amp; 'Connection is online'}
      <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      {offline &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message is-danger"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message-body"</span>&gt;</span>Connection is offline <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
      )}
      {online &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message is-success"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message-body"</span>&gt;</span>Connection is online <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="event-hook">Event Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React , { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useEventListener } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> [state, setState] = useState(<span class="hljs-built_in">window</span>.scrollY)
  <span class="hljs-keyword">const</span> onScroll = <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
    setState(<span class="hljs-built_in">window</span>.scrollY)
  }
  useEventListener(<span class="hljs-string">'scroll'</span>, onScroll)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App content"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Scroll the page<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">position:</span> '<span class="hljs-attr">fixed</span>',
          <span class="hljs-attr">top:</span> <span class="hljs-attr">10</span>,
          <span class="hljs-attr">left:</span> <span class="hljs-attr">10</span>,
          <span class="hljs-attr">background:</span> '#<span class="hljs-attr">CCCCCC</span>',
        }}
      &gt;</span>
        {state} scroll position
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Home</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Home</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
<h2 id="media-query-hook">Media Query Hook</h2>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React , { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useMediaQuery } <span class="hljs-keyword">from</span> <span class="hljs-string">'@brightleaf/react-hooks'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {

  <span class="hljs-keyword">const</span> { matches } = useMediaQuery(<span class="hljs-string">'(min-width: 500px)'</span>)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"App content"</span>&gt;</span>
      {matches &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message is-warning"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"message-body"</span>&gt;</span>The page is at least 500px<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}</code></pre>
  </div>
<a href="https://www.github.com/brightleaf/react-hooks" class="github-corner" aria-label="Open GitHub project"><svg
    width="80" height="80" viewBox="0 0 250 250"
    style="position: absolute; top: 0px; fill: rgb(255, 255, 255); right: 0px;">
    <path class="octo-banner" d="M0 0l115 115h15l12 27 108 108V0z" fill="#151513"></path>
    <path class="octo-arm" d="M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16"
      style="transform-origin: 130px 106px 0px;"></path>
    <path class="octo-body"
      d="M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z">
    </path>
  </svg>
</a>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-64038939-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-64038939-6');
</script>


</body>