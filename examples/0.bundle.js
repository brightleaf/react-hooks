(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return q})),n.d(t,"n",(function(){return U})),n.d(t,"o",(function(){return x})),n.d(t,"p",(function(){return W})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return J})),n.d(t,"s",(function(){return M}));var r=n(0);const o=e=>{const t=e&&"string"==typeof e.data?JSON.parse(e.data):e;return t&&t.data?t.data:(Array.isArray(t),t)},s=(e,t)=>{switch(t.type){case"get":case"loading":return{...e,loading:!0,complete:!1};case"success":return{...e,data:o(t.payload),error:null,loading:!1,complete:!0};case"error":return{...e,data:o(t.payload.data),error:!0,errorDetails:(n=t.payload,n&&n.error&&n.error.Error?n.error.Error:n&&n.error&&n.error.error?n.error.error:n&&n.error?n.error:n&&n.errorMessage?n.data:n),loading:!1,complete:!0};default:return e}var n};function i(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function c(e){return e.replace(/(%[0-9A-F]{2})+/g,decodeURIComponent)}var a=function e(t){function n(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=i(o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[{[]/.test(s)&&(n=s)}catch(e){}n=t.write?t.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in r)r[a]&&(c+="; "+a,!0!==r[a]&&(c+="="+r[a].split(";")[0]));return document.cookie=e+"="+n+c}}function r(e,n){if("undefined"!=typeof document){for(var r=document.cookie?document.cookie.split("; "):[],o={},s=0;s<r.length;s++){var i=r[s].split("="),a=i.slice(1).join("=");n||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var u=c(i[0]);if(a=(t.read||t)(a,u)||c(a),n)try{a=JSON.parse(a)}catch(e){}if(o[u]=a,e===u)break}catch(e){}}return e?o[e]:o}}var o={defaults:{path:"/"},set:n,get:function(e){if(!arguments.length||e)return r(e)},getJSON:function(e){if(!arguments.length||e)return r(e,!0)},remove:function(e,t){n(e,"",i(t,{expires:-1}))},withConverter:e};return o}((function(){}));var u=(e,t,n={})=>{const[o,s]=Object(r.useState)(()=>{try{const r=a.get(e);return"string"!=typeof r?(a.set(e,JSON.stringify(t),n),t):JSON.parse(r||"null")}catch{return t}});return Object(r.useEffect)(()=>{try{const t=JSON.stringify(o);a.set(e,t,n)}catch{}}),[o,s]};const d=e=>{let t;return n=>{window.CustomEvent&&"function"==typeof window.CustomEvent?t=new CustomEvent(e,{bubbles:!0,detail:n}):(t=document.createEvent("CustomEvent"),t.initCustomEvent(e,!0,!0,n)),document.dispatchEvent(t)}};var l=(e,t,n=window)=>{const o=Object(r.useRef)();Object(r.useEffect)(()=>{o.current=t},[t]),Object(r.useEffect)(()=>{if(!(n&&n.addEventListener))return;const t=e=>o.current(e);return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}},[e,n])};var h=e=>{const[t,n]=Object(r.useState)(e);return Object(r.useEffect)(()=>{const e=document.querySelector("link[rel*='icon']")||document.createElement("link");e.type="image/x-icon",e.rel="shortcut icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},[t]),[t,n]};var p=(e,t)=>{const[n,o]=Object(r.useReducer)(s,{data:[],error:null,loading:!0}),i=Object(r.useCallback)(async e=>{o({type:"get"});const n=await fetch(e,t),r=await n.json();o({type:"success",payload:{data:r}})},[t]);return Object(r.useEffect)(()=>{i(e)},[i,e]),n};var y=()=>{const e=[];return{addToForm:function(t){e.push(t)},onSubmit:t=>n=>{n.preventDefault();const r=e.reduce((e,t)=>("checkbox"===t.type?e[t.name]=t.checked:"radio"===t.type?t.checked&&(e[t.name]=t.value):e[t.name]=t.value,e),{});t(r)}}};function f(e,t){const n=e=>e&&"object"==typeof e;return n(e)&&n(t)?(Object.keys(t).forEach(r=>{const o=e[r],s=t[r];Array.isArray(o)&&Array.isArray(s)?e[r]=o.concat(s):n(o)&&n(s)?e[r]=f(Object.assign({},o),s):e[r]=s}),e):t}const m={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"},w=(e="",t={method:"GET"})=>{const[n,o]=Object(r.useReducer)(s,{data:[],error:null,errorDetails:null,loading:!1,complete:!1}),i=f(m,t);return{...n,makeRequest:async(t=i,n=e)=>{o({type:"get"});const r=await fetch(n,t),s=r.ok,c=r.headers.get("Content-Type");if("application/json"===t.headers["Content-Type"]&&"application/json"===c){const e=await r.json();return s&&e&&e.data?o({type:"success",payload:{data:e.data}}):o(!s&&e?{type:"error",payload:e}:{type:"success",payload:{data:e}})}const a=await r.text();return o(s?{type:"success",payload:{data:a}}:{type:"error",payload:{data:null,error:a}})}}};var g=w;const _={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var b=(e="",t={method:"GET"})=>{const{data:n,error:r,loading:o,complete:s,makeRequest:i}=g(e),c=f(_,t);return{data:n,error:r,loading:o,complete:s,getUrl:async(t=e)=>{await i({method:"GET",...c},t)}}};const v={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"},O=(e="/graphql",t,n={method:"POST"})=>{const{makeRequest:r,...o}=w(e,{data:null,error:null,loading:!1}),s=f(v,n);return{makeQuery:async e=>{await r({...s,body:JSON.stringify({query:t,variables:e})})},...o}};var E=(e,t=window)=>{const[n,o]=Object(r.useState)(!1),s=t=>{t.key===e&&o(!0)};return Object(r.useEffect)(()=>(t.addEventListener("keydown",s),()=>{t.removeEventListener("keydown",s)}),[e,t]),n};var S=(e,t=window)=>{const[n,o]=Object(r.useState)(!1),s=t=>{t.key===e&&o(!0)},i=t=>{t.key===e&&o(!1)};return Object(r.useEffect)(()=>(t.addEventListener("keydown",s),t.addEventListener("keyup",i),()=>{t.removeEventListener("keydown",s),t.removeEventListener("keyup",i)}),[e,t]),n};var T=(e,t,n=!1)=>{const[o,s]=Object(r.useState)(()=>{try{const r=localStorage.getItem(e);return"string"!=typeof r?(localStorage.setItem(e,n?String(t):JSON.stringify(t)),t):n?r:JSON.parse(r||"null")}catch{return t}});return Object(r.useEffect)(()=>{try{const t=n?String(o):JSON.stringify(o);localStorage.setItem(e,t)}catch{}}),[o,s]};const k=(e,t)=>{switch(t.type){case"match":return{matches:!0};case"nomatch":return{matches:!1};default:return e}};var j=e=>{const[t,n]=Object(r.useReducer)(k,{matches:!1}),o=e=>{e.matches?n({type:"match"}):t.matches&&n({type:"nomatch"})},s=window.matchMedia(e);return s.addListener(o),Object(r.useEffect)(()=>{o(s)},[e]),{...t}};var R=(e,t,n="name")=>{const[o,s]=Object(r.useState)(t);return Object(r.useEffect)(()=>{const t=document.querySelector(`meta[${n}="${e}"]`);if(t)t.setAttribute("content",o);else{const t=document.createElement("meta");t.setAttribute(n,e),t.content=o,document.getElementsByTagName("head")[0].appendChild(t)}},[n,e,o]),[o,s]},C=n(21),P=n.n(C);const N=(e,t,...n)=>{const r=[].concat(e.messages);switch(t.type){case"connecting":return{...e,connecting:!0,connected:!1};case"connected":return{...e,connecting:!1,connected:!0};case"disconnected":return{...e,connecting:!1,connected:!1};case"message":return r.push(t.payload.data),{...e,messages:r,error:null,connecting:!1};case"error":return{...e,error:t.payload.error,connecting:!1};default:return e}};var q=(e="ws://localhost:4567",t)=>{const[n,o]=Object(r.useReducer)(N,{messages:[],error:null,connecting:!0,connected:!1});var s=new P.a.Client(e);Object(r.useEffect)(()=>{(async()=>{o({type:"connecting",payload:{}}),new Promise(async e=>{s.onConnect=()=>(o({type:"connected"}),e()),s.onDisconnect=()=>(o({type:"disconnected"}),e()),await s.connect(),s.onUpdate=t=>(o({type:"message",payload:{data:t}}),e()),t&&s.subscribe(t,t=>(o({type:"message",payload:{data:t}}),e()))})})()},[]);return{...n,client:s,dispatcher:e=>{o({type:"message",payload:{data:e}})}}};const L=(e,t)=>{switch(t.type){case"online":return{online:!0,offline:!1};case"offline":return{online:!1,offline:!0};default:return e}};var U=e=>{const[t,n]=Object(r.useReducer)(L,{online:!0,offline:!1});return window.addEventListener("offline",(function(e){n({type:"offline"})})),window.addEventListener("online",(function(e){n({type:"online"})})),{...t}};const I=(e,t)=>{switch(t.type){case"hidden":return{visible:!1,hidden:!0};case"visible":return{visible:!0,hidden:!1};default:return e}};var x=e=>{const[t,n]=Object(r.useReducer)(I,{visible:!0,hidden:!1});return document.addEventListener("visibilitychange",e=>{n({type:document.visibilityState})}),{...t}};const D={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var W=(e="",t={method:"POST"})=>{const{data:n,error:r,loading:o,complete:s,makeRequest:i}=g(e),c=f(D,t);return{data:n,error:r,loading:o,complete:s,postData:async e=>{await i({method:"POST",...c,body:"string"==typeof e||e instanceof String?e:JSON.stringify(e)})}}};var J=e=>{const[t,n]=Object(r.useState)(e);return Object(r.useEffect)(()=>{document.title=t},[t]),[t,n]};const A=(e,t)=>{switch(t.type){case"connecting":return{...e,connecting:!0};case"connected":return{...e,connecting:!1,connected:!0};case"closed":return{...e,connecting:!1,connected:!1};case"message":return e.message.push(t.payload.data),{...e,message:e.message,error:null,loading:!1};case"error":return{...e,message:null,error:t.payload.error,loading:!1};default:return e}};var M=(e="ws://localhost:4567")=>{const[t,n]=Object(r.useReducer)(A,{message:[],error:null,loading:!0}),o=new WebSocket(e),s=e=>{o.readyState===WebSocket.OPEN?o.send(e):(console.warn("The WebSocket is not ready"),setTimeout(()=>{s(e)},100))},i=Object(r.useCallback)(()=>{n({type:"get"}),o.onopen=()=>{n({type:"connected"})},o.onmessage=e=>{n({type:"message",payload:{data:e.data}})},o.onclose=()=>{n({type:"closed"})},n({type:"connecting",payload:{}})},[e]);return Object(r.useEffect)(()=>{i()},[e]),{...t,sendMessage:s}}},21:function(e,t,n){"use strict";(function(t){var n;"undefined"!=typeof window&&window,n=()=>{const e=function(){},t={TIMEOUT:"timeout",DISCONNECT:"disconnect",SERVER:"server",PROTOCOL:"protocol",WS:"ws",USER:"user"},n=function(e,t){"string"==typeof e&&(e=new Error(e)),e.type=t,e.isNes=!0;try{throw e}catch(e){return e}},r={1e3:"Normal closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"Reserved",1005:"No status received",1006:"Abnormal closure",1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message too big",1010:"Mandatory extension",1011:"Internal server error",1015:"TLS handshake"},o=function(t,n){n=n||{},this._isBrowser="undefined"!=typeof WebSocket,this._isBrowser||(n.ws=n.ws||{},void 0===n.ws.maxPayload&&(n.ws.maxPayload=0)),this._url=t,this._settings=n,this._heartbeatTimeout=!1,this._ws=null,this._reconnection=null,this._reconnectionTimer=null,this._ids=0,this._requests={},this._subscriptions={},this._heartbeat=null,this._packets=[],this._disconnectListeners=null,this._disconnectRequested=!1,this.onError=e=>console.error(e),this.onConnect=e,this.onDisconnect=e,this.onHeartbeatTimeout=e,this.onUpdate=e,this.id=null};return o.WebSocket="undefined"==typeof WebSocket?null:WebSocket,o.prototype.connect=function(e){return e=e||{},this._reconnection?Promise.reject(new n("Cannot connect while client attempts to reconnect",t.USER)):this._ws?Promise.reject(new n("Already connected",t.USER)):(!1!==e.reconnect?this._reconnection={wait:0,delay:e.delay||1e3,maxDelay:e.maxDelay||5e3,retries:e.retries||1/0,settings:{auth:e.auth,timeout:e.timeout}}:this._reconnection=null,new Promise((t,n)=>{this._connect(e,!0,e=>e?n(e):t())}))},o.prototype._connect=function(e,s,i){const c=this._isBrowser?new o.WebSocket(this._url):new o.WebSocket(this._url,this._settings.ws);this._ws=c,clearTimeout(this._reconnectionTimer),this._reconnectionTimer=null;const a=e=>{c.onopen&&u(new n("Connection terminated while waiting to connect",t.WS));const o=this._disconnectRequested;this._cleanup();const s={code:e.code,explanation:r[e.code]||"Unknown",reason:e.reason,wasClean:e.wasClean,willReconnect:this._willReconnect(),wasRequested:o};this.onDisconnect(s.willReconnect,s),this._reconnect()},u=e=>{if(i){const t=i;return i=null,t(e)}return this.onError(e)},d=e.timeout?setTimeout(()=>{if(this._cleanup(),u(new n("Connection timed out",t.TIMEOUT)),s)return this._reconnect()},e.timeout):null;c.onopen=()=>{clearTimeout(d),c.onopen=null,this._hello(e.auth).then(()=>{this.onConnect(),u()}).catch(e=>{e.path&&delete this._subscriptions[e.path],this._disconnect(()=>{return(t=u,e=>{setTimeout(()=>t(e),0)})(e);var t},!0)})},c.onerror=e=>{if(clearTimeout(d),this._willReconnect())return a(e);this._cleanup();const r=new n("Socket error",t.WS);return u(r)},c.onclose=a,c.onmessage=e=>this._onMessage(e)},o.prototype.overrideReconnectionAuth=function(e){return!!this._reconnection&&(this._reconnection.settings.auth=e,!0)},o.prototype.reauthenticate=function(e){this.overrideReconnectionAuth(e);const t={type:"reauth",auth:e};return this._send(t,!0)},o.prototype.disconnect=function(){return new Promise(e=>this._disconnect(e,!1))},o.prototype._disconnect=function(e,t){this._reconnection=null,clearTimeout(this._reconnectionTimer),this._reconnectionTimer=null;const n=this._disconnectRequested||!t;return this._disconnectListeners?(this._disconnectRequested=n,void this._disconnectListeners.push(e)):!this._ws||this._ws.readyState!==o.WebSocket.OPEN&&this._ws.readyState!==o.WebSocket.CONNECTING?e():(this._disconnectRequested=n,this._disconnectListeners=[e],void this._ws.close())},o.prototype._cleanup=function(){if(this._ws){const t=this._ws;this._ws=null,t.readyState!==o.WebSocket.CLOSED&&t.readyState!==o.WebSocket.CLOSING&&t.close(),t.onopen=null,t.onclose=null,t.onerror=e,t.onmessage=null}this._packets=[],this.id=null,clearTimeout(this._heartbeat),this._heartbeat=null;const r=new n("Request failed - server disconnected",t.DISCONNECT),s=this._requests;this._requests={};const i=Object.keys(s);for(let e=0;e<i.length;++e){const t=s[i[e]];clearTimeout(t.timeout),t.reject(r)}if(this._disconnectListeners){const e=this._disconnectListeners;this._disconnectListeners=null,this._disconnectRequested=!1,e.forEach(e=>e())}},o.prototype._reconnect=function(){const t=this._reconnection;if(!t)return;if(t.retries<1)return this._disconnect(e,!0);--t.retries,t.wait=t.wait+t.delay;const n=Math.min(t.wait,t.maxDelay);this._reconnectionTimer=setTimeout(()=>{this._connect(t.settings,!1,e=>{if(e)return this.onError(e),this._reconnect()})},n)},o.prototype.request=function(e){"string"==typeof e&&(e={method:"GET",path:e});const t={type:"request",method:e.method||"GET",path:e.path,headers:e.headers,payload:e.payload};return this._send(t,!0)},o.prototype.message=function(e){const t={type:"message",message:e};return this._send(t,!0)},o.prototype._isReady=function(){return this._ws&&this._ws.readyState===o.WebSocket.OPEN},o.prototype._send=function(e,r){if(!this._isReady())return Promise.reject(new n("Failed to send message - server disconnected",t.DISCONNECT));e.id=++this._ids;try{var o=function(e){try{return JSON.stringify(e)}catch(e){throw new n(e,t.USER)}}(e)}catch(e){return Promise.reject(e)}if(!r)try{return this._ws.send(o),Promise.resolve()}catch(e){return Promise.reject(new n(e,t.WS))}const s={resolve:null,reject:null,timeout:null},i=new Promise((e,t)=>{s.resolve=e,s.reject=t});this._settings.timeout&&(s.timeout=setTimeout(()=>(s.timeout=null,s.reject(new n("Request timed out",t.TIMEOUT))),this._settings.timeout)),this._requests[e.id]=s;try{this._ws.send(o)}catch(r){return clearTimeout(this._requests[e.id].timeout),delete this._requests[e.id],Promise.reject(new n(r,t.WS))}return i},o.prototype._hello=function(e){const t={type:"hello",version:"2"};e&&(t.auth=e);const n=this.subscriptions();return n.length&&(t.subs=n),this._send(t,!0)},o.prototype.subscriptions=function(){return Object.keys(this._subscriptions)},o.prototype.subscribe=function(e,r){if(!e||"/"!==e[0])return Promise.reject(new n("Invalid path",t.USER));const o=this._subscriptions[e];if(o)return-1===o.indexOf(r)&&o.push(r),Promise.resolve();if(this._subscriptions[e]=[r],!this._isReady())return Promise.resolve();const s={type:"sub",path:e},i=this._send(s,!0);return i.catch(t=>{delete this._subscriptions[e]}),i},o.prototype.unsubscribe=function(r,o){if(!r||"/"!==r[0])return Promise.reject(new n("Invalid path",t.USER));const s=this._subscriptions[r];if(!s)return Promise.resolve();let i=!1;if(o){const e=s.indexOf(o);if(-1===e)return Promise.resolve();s.splice(e,1),s.length||(delete this._subscriptions[r],i=!0)}else delete this._subscriptions[r],i=!0;if(!i||!this._isReady())return Promise.resolve();const c={type:"unsub",path:r},a=this._send(c,!0);return a.catch(e),a},o.prototype._onMessage=function(r){this._beat();let o=r.data;const s=o[0];if("{"!==s){if(this._packets.push(o.slice(1)),"!"!==s)return;o=this._packets.join(""),this._packets=[]}this._packets.length&&(this._packets=[],this.onError(new n("Received an incomplete message",t.PROTOCOL)));try{var i=JSON.parse(o)}catch(e){return this.onError(new n(e,t.PROTOCOL))}let c=null;if(i.statusCode&&i.statusCode>=400&&(c=new n(i.payload.message||i.payload.error||"Error",t.SERVER),c.statusCode=i.statusCode,c.data=i.payload,c.headers=i.headers,c.path=i.path),"ping"===i.type)return this._send({type:"ping"},!1).catch(e);if("update"===i.type)return this.onUpdate(i.message);if("pub"===i.type||"revoke"===i.type){const e=this._subscriptions[i.path];if("revoke"===i.type&&delete this._subscriptions[i.path],e&&void 0!==i.message){const t={};"revoke"===i.type&&(t.revoked=!0);for(let n=0;n<e.length;++n)e[n](i.message,t)}return}const a=this._requests[i.id];if(!a)return this.onError(new n("Received response for unknown request",t.PROTOCOL));clearTimeout(a.timeout),delete this._requests[i.id];const u=(e,t)=>e?a.reject(e):a.resolve(t);return"request"===i.type?u(c,{payload:i.payload,statusCode:i.statusCode,headers:i.headers}):"message"===i.type?u(c,{payload:i.message}):"hello"===i.type?(this.id=i.socket,i.heartbeat&&(this._heartbeatTimeout=i.heartbeat.interval+i.heartbeat.timeout,this._beat()),u(c)):"reauth"===i.type?u(c,!0):"sub"===i.type||"unsub"===i.type?u(c):(u(new n("Received invalid response",t.PROTOCOL)),this.onError(new n("Received unknown response type: "+i.type,t.PROTOCOL)))},o.prototype._beat=function(){this._heartbeatTimeout&&(clearTimeout(this._heartbeat),this._heartbeat=setTimeout(()=>{this.onError(new n("Disconnecting due to heartbeat timeout",t.TIMEOUT)),this.onHeartbeatTimeout(this._willReconnect()),this._ws.close()},this._heartbeatTimeout))},o.prototype._willReconnect=function(){return!!(this._reconnection&&this._reconnection.retries>=1)},{Client:o}},e.exports=n()}).call(this,n(9))}}]);