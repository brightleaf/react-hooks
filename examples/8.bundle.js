(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{22:function(e,t,n){"use strict";var r=n(0);const a=(e,t)=>{switch(t.type){case"get":case"loading":return{...e,loading:!0};case"success":return{...e,data:t.payload.data,error:null,loading:!1};case"error":return{...e,data:null,error:t.payload.error,loading:!1};default:return e}};var c=e=>{Object(r.useEffect)(()=>{const t=document.querySelector("link[rel*='icon']")||document.createElement("link");t.type="image/x-icon",t.rel="shortcut icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},[e])};var o=(e,t)=>{const[n,c]=Object(r.useReducer)(a,{data:[],error:null,loading:!0}),o=Object(r.useCallback)(async e=>{c({type:"get"});const n=await fetch(e,t),r=await n.json();c({type:"success",payload:{data:r}})},[t]);return Object(r.useEffect)(()=>{o(e)},[o,e]),n};const s={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var d=(e="",t={method:"GET"})=>{const[n,c]=Object(r.useReducer)(a,{data:[],error:null,loading:!1}),o={...s,...t};return{...n,makeRequest:async(t=o,n=e)=>{c({type:"get"});const r=await fetch(n,t),a=await r.json();c({type:"success",payload:{data:a}})}}};const i={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var l=(e="",t={method:"GET"})=>{const{data:n,error:r,loading:a,makeRequest:c}=d(e,{data:[],error:null,loading:!1}),o={...i,...t};return{data:n,error:r,loading:a,getUrl:async(t=e)=>{await c({method:"GET",...o},t)}}},u=n(21);const m=(e,t)=>{switch(t.type){case"get":case"loading":return{...e,loading:!0};case"success":return{...e,data:t.payload.data,error:null,loading:!1};case"error":return{...e,data:null,error:t.payload.error,loading:!1};default:return e}};var p=function(e,t,n={}){const[a,c]=Object(r.useReducer)(m,{data:[],error:null,loading:!0}),o=Object.keys(n).map(e=>n[e]);return Object(r.useEffect)(()=>{(async n=>{c({type:"loading"});const r=await Object(u.request)(e,t,n);c({type:"success",payload:{data:r}})})(n)},o),{...a}};var g=(e,t=window)=>{const[n,a]=Object(r.useState)(!1),c=t=>{t.key===e&&a(!0)},o=t=>{t.key===e&&a(!1)};return Object(r.useEffect)(()=>(t.addEventListener("keydown",c),t.addEventListener("keyup",o),()=>{t.removeEventListener("keydown",c),t.removeEventListener("keyup",o)}),[e,t]),n};var y=(e,t,n=!1)=>{const[a,c]=Object(r.useState)(()=>{try{const r=localStorage.getItem(e);return"string"!=typeof r?(localStorage.setItem(e,n?String(t):JSON.stringify(t)),t):n?r:JSON.parse(r||"null")}catch{return t}});return Object(r.useEffect)(()=>{try{const t=n?String(a):JSON.stringify(a);localStorage.setItem(e,t)}catch{}}),[a,c]};var f=n(23),h=n.n(f);const v=(e,t,...n)=>{switch(t.type){case"connecting":return{...e,connecting:!0,connected:!1};case"connected":return{...e,connecting:!1,connected:!0};case"disconnected":return{...e,connecting:!1,connected:!1};case"message":const n=[].concat(e.message);return n.push(t.payload.data),{...e,message:n,error:null,connecting:!1};case"error":return{...e,error:t.payload.error,connecting:!1};default:return e}};var b=(e="ws://localhost:4567",t=!0)=>{const[n,a]=Object(r.useReducer)(v,{message:[],error:null,connecting:!0,connected:!1});var c=new h.a.Client(e);Object(r.useEffect)(()=>{(async()=>(a({type:"connecting",payload:{}}),new Promise(async(n,r)=>{c.onConnect=e=>(a({type:"connected"}),n()),c.onDisconnect=()=>(a({type:"disconnected"}),n()),await c.connect(),c.onUpdate=e=>(a({type:"message",payload:{data:e}}),n()),t&&c.subscribe(e,e=>(a({type:"message",payload:{data:e}}),n()))})))()},[]);return{...n,client:c,dispatcher:e=>{a({type:"message",payload:{data:e}})}}};const E=(e,t)=>{switch(t.type){case"hidden":return{visible:!1,hidden:!0};case"visible":return{visible:!0,hidden:!1};default:return e}};var w=e=>{const[t,n]=Object(r.useReducer)(E,{visible:!0,hidden:!1});return document.addEventListener("visibilitychange",e=>{n({type:document.visibilityState})}),{...t}};const j={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var O=(e="",t={method:"POST"})=>{const{data:n,error:r,loading:a,makeRequest:c}=d(e,{data:[],error:null,loading:!1}),o={...j,...t};return{data:n,error:r,loading:a,postData:async e=>{await c({method:"POST",...o,body:JSON.stringify(e)})}}};var k=e=>{Object(r.useEffect)(()=>{document.title=e},[e])};n.d(t,"a",function(){return c}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return w}),n.d(t,"i",function(){return O}),n.d(t,"j",function(){return k})},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22);t.default=()=>{Object(c.j)("useNes example from @brightleaf/react-hooks");const{getUrl:e}=Object(c.c)(),{message:t,error:n,connecting:r,connected:o,...s}=Object(c.g)("wss://kev-pi.herokuapp.com");if(console.info("The rest",s),n)return a.a.createElement("div",{className:"App"},a.a.createElement("h2",null,"Error Getting Data"));const d=r?a.a.createElement("div",{className:"alert alert-warning"},"Connecting"):a.a.createElement("div",{className:"alert alert-info"},"Not Connecting"),i=o?a.a.createElement("div",{className:"alert alert-success"},"Connected"):a.a.createElement("div",{className:"alert alert-danger"},"Not Connected"),l=t.map((e,t)=>a.a.createElement("div",{className:`mar-0 pad-b-xs ${t%2?"text-secondary":"text-primary"}`,key:`key-${t}`},e));return a.a.createElement("div",{className:"App content"},a.a.createElement("h2",null,"Messages from Server"),a.a.createElement("div",null,l),a.a.createElement("div",{className:"pad-t-md mar-t-md"},a.a.createElement("div",{className:"button",onClick:t=>{e("https://kev-pi.herokuapp.com/send")}},"Send a message from server")),a.a.createElement("br",null),a.a.createElement("div",null,d,i))}}}]);