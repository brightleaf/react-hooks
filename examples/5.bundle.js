(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{20:function(e,t,a){"use strict";var r=a(0),n=a(22);const c={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};t.a=(e="",t={method:"GET"})=>{const[a,o]=Object(r.useReducer)(n.a,{data:[],error:null,loading:!1}),s={...c,...t};return{...a,makeRequest:async(t=s,a=e)=>{o({type:"get"});const r=await fetch(a,t),n=await r.json();o({type:"success",payload:{data:n}})}}}},21:function(e,t,a){"use strict";var r=a(24),n=a(0);const c=(e,t)=>{switch(t.type){case"get":return{...e,loading:!0};case"success":return{...e,data:t.payload.data,error:null,loading:!1};case"error":return{...e,data:null,error:t.payload.error,loading:!1};default:return e}};t.a=function(e,t,a){const[o,s]=Object(n.useReducer)(c,{data:[],error:null,loading:!0}),l=Object.keys(a).map(e=>a[e]);return Object(n.useEffect)(()=>{(async a=>{s({type:"get"});const n=await Object(r.request)(e,t,a);s({type:"success",payload:{data:n}})})(a)},l),{...o}}},22:function(e,t,a){"use strict";a.d(t,"a",function(){return r});const r=(e,t)=>{switch(t.type){case"get":return{...e,loading:!0};case"success":return{...e,data:t.payload.data,error:null,loading:!1};case"error":return{...e,data:null,error:t.payload.error,loading:!1};default:return e}}},23:function(e,t,a){"use strict";var r=a(20);const n={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};t.a=(e="",t={method:"POST"})=>{const{data:a,error:c,loading:o,makeRequest:s}=Object(r.a)(e,{data:[],error:null,loading:!1}),l={...n,...t};return{data:a,error:c,loading:o,postData:async e=>{await s({method:"POST",...l,body:JSON.stringify(e)})}}}},26:function(e,t,a){"use strict";var r=a(0);var n=a(22);var c=(e,t)=>{const[a,c]=Object(r.useReducer)(n.a,{data:[],error:null,loading:!0}),o=Object(r.useCallback)(async e=>{c({type:"get"});const a=await fetch(e,t),r=await a.json();c({type:"success",payload:{data:r}})},[t]);return Object(r.useEffect)(()=>{o(e)},[o,e]),a},o=a(20);const s={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer"};var l=(e="",t={method:"GET"})=>{const{data:a,error:r,loading:n,makeRequest:c}=Object(o.a)(e,{data:[],error:null,loading:!1}),l={...s,...t};return{data:a,error:r,loading:n,getUrl:async(t=e)=>{await c({method:"GET",...l},t)}}};a(21);var d=(e,t,a=!1)=>{const[n,c]=Object(r.useState)(()=>{try{const r=localStorage.getItem(e);return"string"!=typeof r?(localStorage.setItem(e,a?String(t):JSON.stringify(t)),t):a?r:JSON.parse(r||"null")}catch{return t}});return Object(r.useEffect)(()=>{try{const t=a?String(n):JSON.stringify(n);localStorage.setItem(e,t)}catch{}}),[n,c]};a(24);var i=a(28),u=a.n(i);const p=(e,t,...a)=>{switch(t.type){case"connecting":return{...e,connecting:!0,connected:!1};case"connected":return{...e,connecting:!1,connected:!0};case"disconnected":return{...e,connecting:!1,connected:!1};case"message":const a=[].concat(e.message);return a.push(t.payload.data),{...e,message:a,error:null,connecting:!1};case"error":return{...e,error:t.payload.error,connecting:!1};default:return e}};var m=(e="ws://localhost:4567",t=!0)=>{const[a,n]=Object(r.useReducer)(p,{message:[],error:null,connecting:!0,connected:!1});var c=new u.a.Client(e);Object(r.useEffect)(()=>{(async()=>(n({type:"connecting",payload:{}}),new Promise(async(a,r)=>{c.onConnect=e=>(n({type:"connected"}),a()),c.onDisconnect=()=>(n({type:"disconnected"}),a()),await c.connect(),c.onUpdate=e=>(n({type:"message",payload:{data:e}}),a()),t&&c.subscribe(e,e=>(n({type:"message",payload:{data:e}}),a()))})))()},[]);return{...a,client:c,dispatcher:e=>{n({type:"message",payload:{data:e}})}}};a(23);a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return d}),a.d(t,"d",function(){return m})},34:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(26);t.default=()=>{const{getUrl:e}=Object(c.b)(),{message:t,error:a,connecting:r,connected:o,...s}=Object(c.d)("wss://kev-pi.herokuapp.com");if(console.info("The rest",s),a)return n.a.createElement("div",{className:"App"},n.a.createElement("h2",null,"Error Getting Data"));const l=r?n.a.createElement("div",{className:"alert alert-warning"},"Connecting"):n.a.createElement("div",{className:"alert alert-info"},"Not Connecting"),d=o?n.a.createElement("div",{className:"alert alert-success"},"Connected"):n.a.createElement("div",{className:"alert alert-danger"},"Not Connected"),i=t.map((e,t)=>n.a.createElement("div",{className:`mar-0 pad-b-xs ${t%2?"text-secondary":"text-primary"}`,key:`key-${t}`},e));return n.a.createElement("div",{className:"App"},n.a.createElement("h2",null,"Messages from Server"),n.a.createElement("div",null,i),n.a.createElement("div",{className:"pad-t-md mar-t-md"},n.a.createElement("div",{className:"button",onClick:t=>{e("https://kev-pi.herokuapp.com/send")}},"Send a message from server")),n.a.createElement("br",null),n.a.createElement("div",null,l,d))}}}]);